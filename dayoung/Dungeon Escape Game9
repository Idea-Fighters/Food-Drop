import random

def story_dungeon_escape():
    rooms = {
        'start': '당신은 어두운 던전의 출발 지점에 있습니다. 출구를 찾아 탈출하세요.',
        'left': '당신은 왼쪽 방으로 들어갔습니다. 여긴 막다른 길입니다.',
        'right': '당신은 오른쪽 방으로 들어갔습니다. 여긴 보물이 있습니다.',
        'straight': '당신은 직진했습니다. 여긴 출구입니다. 당신은 탈출했습니다!'
    }
    choices = {
        'start': ['left', 'right', 'straight'],
        'left': ['right', 'straight'],
        'right': ['left', 'straight'],
        'straight': []
    }
    current_room = 'start'

    while current_room != 'straight':
        print(rooms[current_room])
        print("선택지:", choices[current_room])
        direction = input('어디로 가시겠습니까? ' + '/'.join(choices[current_room]) + ': ').lower()
        if direction in choices[current_room]:
            current_room = direction
        else:
            print('잘못된 입력입니다.')

    print(rooms['straight'])

story_dungeon_escape()
